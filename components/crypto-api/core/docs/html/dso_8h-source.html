<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>dso.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>dso.h</h1><a href="dso_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* dso.h */</span>
00002 <span class="comment">/* Written by Geoff Thorpe (geoff@geoffthorpe.net) for the OpenSSL</span>
00003 <span class="comment"> * project 2000.</span>
00004 <span class="comment"> */</span>
00005 <span class="comment">/* ====================================================================</span>
00006 <span class="comment"> * Copyright (c) 2000 The OpenSSL Project.  All rights reserved.</span>
00007 <span class="comment"> *</span>
00008 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
00009 <span class="comment"> * modification, are permitted provided that the following conditions</span>
00010 <span class="comment"> * are met:</span>
00011 <span class="comment"> *</span>
00012 <span class="comment"> * 1. Redistributions of source code must retain the above copyright</span>
00013 <span class="comment"> *    notice, this list of conditions and the following disclaimer. </span>
00014 <span class="comment"> *</span>
00015 <span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright</span>
00016 <span class="comment"> *    notice, this list of conditions and the following disclaimer in</span>
00017 <span class="comment"> *    the documentation and/or other materials provided with the</span>
00018 <span class="comment"> *    distribution.</span>
00019 <span class="comment"> *</span>
00020 <span class="comment"> * 3. All advertising materials mentioning features or use of this</span>
00021 <span class="comment"> *    software must display the following acknowledgment:</span>
00022 <span class="comment"> *    "This product includes software developed by the OpenSSL Project</span>
00023 <span class="comment"> *    for use in the OpenSSL Toolkit. (http://www.OpenSSL.org/)"</span>
00024 <span class="comment"> *</span>
00025 <span class="comment"> * 4. The names "OpenSSL Toolkit" and "OpenSSL Project" must not be used to</span>
00026 <span class="comment"> *    endorse or promote products derived from this software without</span>
00027 <span class="comment"> *    prior written permission. For written permission, please contact</span>
00028 <span class="comment"> *    licensing@OpenSSL.org.</span>
00029 <span class="comment"> *</span>
00030 <span class="comment"> * 5. Products derived from this software may not be called "OpenSSL"</span>
00031 <span class="comment"> *    nor may "OpenSSL" appear in their names without prior written</span>
00032 <span class="comment"> *    permission of the OpenSSL Project.</span>
00033 <span class="comment"> *</span>
00034 <span class="comment"> * 6. Redistributions of any form whatsoever must retain the following</span>
00035 <span class="comment"> *    acknowledgment:</span>
00036 <span class="comment"> *    "This product includes software developed by the OpenSSL Project</span>
00037 <span class="comment"> *    for use in the OpenSSL Toolkit (http://www.OpenSSL.org/)"</span>
00038 <span class="comment"> *</span>
00039 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE OpenSSL PROJECT ``AS IS'' AND ANY</span>
00040 <span class="comment"> * EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span>
00041 <span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR</span>
00042 <span class="comment"> * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE OpenSSL PROJECT OR</span>
00043 <span class="comment"> * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
00044 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT</span>
00045 <span class="comment"> * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
00046 <span class="comment"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</span>
00047 <span class="comment"> * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,</span>
00048 <span class="comment"> * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span>
00049 <span class="comment"> * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED</span>
00050 <span class="comment"> * OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00051 <span class="comment"> * ====================================================================</span>
00052 <span class="comment"> *</span>
00053 <span class="comment"> * This product includes cryptographic software written by Eric Young</span>
00054 <span class="comment"> * (eay@cryptsoft.com).  This product includes software written by Tim</span>
00055 <span class="comment"> * Hudson (tjh@cryptsoft.com).</span>
00056 <span class="comment"> *</span>
00057 <span class="comment"> */</span>
00058 
00059 <span class="preprocessor">#ifndef HEADER_DSO_H</span>
00060 <span class="preprocessor"></span><span class="preprocessor">#define HEADER_DSO_H</span>
00061 <span class="preprocessor"></span>
00062 <span class="preprocessor">#include &lt;<a class="code" href="crypto_8h.html">openssl/crypto.h</a>&gt;</span>
00063 
00064 <span class="preprocessor">#ifdef __cplusplus</span>
00065 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00066 <span class="preprocessor">#endif</span>
00067 <span class="preprocessor"></span>
00068 <span class="comment">/* These values are used as commands to DSO_ctrl() */</span>
<a name="l00069"></a><a class="code" href="dso_8h.html#a0">00069</a> <span class="preprocessor">#define DSO_CTRL_GET_FLAGS  1</span>
<a name="l00070"></a><a class="code" href="dso_8h.html#a1">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_CTRL_SET_FLAGS  2</span>
<a name="l00071"></a><a class="code" href="dso_8h.html#a2">00071</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_CTRL_OR_FLAGS   3</span>
00072 <span class="preprocessor"></span>
00073 <span class="comment">/* By default, DSO_load() will translate the provided filename into a form</span>
00074 <span class="comment"> * typical for the platform (more specifically the DSO_METHOD) using the</span>
00075 <span class="comment"> * dso_name_converter function of the method. Eg. win32 will transform "blah"</span>
00076 <span class="comment"> * into "blah.dll", and dlfcn will transform it into "libblah.so". The</span>
00077 <span class="comment"> * behaviour can be overriden by setting the name_converter callback in the DSO</span>
00078 <span class="comment"> * object (using DSO_set_name_converter()). This callback could even utilise</span>
00079 <span class="comment"> * the DSO_METHOD's converter too if it only wants to override behaviour for</span>
00080 <span class="comment"> * one or two possible DSO methods. However, the following flag can be set in a</span>
00081 <span class="comment"> * DSO to prevent *any* native name-translation at all - eg. if the caller has</span>
00082 <span class="comment"> * prompted the user for a path to a driver library so the filename should be</span>
00083 <span class="comment"> * interpreted as-is. */</span>
<a name="l00084"></a><a class="code" href="dso_8h.html#a3">00084</a> <span class="preprocessor">#define DSO_FLAG_NO_NAME_TRANSLATION        0x01</span>
00085 <span class="preprocessor"></span><span class="comment">/* An extra flag to give if only the extension should be added as</span>
00086 <span class="comment"> * translation.  This is obviously only of importance on Unix and</span>
00087 <span class="comment"> * other operating systems where the translation also may prefix</span>
00088 <span class="comment"> * the name with something, like 'lib', and ignored everywhere else.</span>
00089 <span class="comment"> * This flag is also ignored if DSO_FLAG_NO_NAME_TRANSLATION is used</span>
00090 <span class="comment"> * at the same time. */</span>
<a name="l00091"></a><a class="code" href="dso_8h.html#a4">00091</a> <span class="preprocessor">#define DSO_FLAG_NAME_TRANSLATION_EXT_ONLY  0x02</span>
00092 <span class="preprocessor"></span>
00093 <span class="comment">/* The following flag controls the translation of symbol names to upper</span>
00094 <span class="comment"> * case.  This is currently only being implemented for OpenVMS.</span>
00095 <span class="comment"> */</span>
<a name="l00096"></a><a class="code" href="dso_8h.html#a5">00096</a> <span class="preprocessor">#define DSO_FLAG_UPCASE_SYMBOL          0x10</span>
00097 <span class="preprocessor"></span>
00098 
<a name="l00099"></a><a class="code" href="dso_8h.html#a49">00099</a> <span class="keyword">typedef</span> <a class="code" href="cryptlib_8c.html#a8">void</a> (*<a class="code" href="dso_8h.html#a49">DSO_FUNC_TYPE</a>)(void);
00100 
<a name="l00101"></a><a class="code" href="dso_8h.html#a50">00101</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdso__st.html">dso_st</a> DSO;
00102 
00103 <span class="comment">/* The function prototype used for method functions (or caller-provided</span>
00104 <span class="comment"> * callbacks) that transform filenames. They are passed a DSO structure pointer</span>
00105 <span class="comment"> * (or NULL if they are to be used independantly of a DSO object) and a</span>
00106 <span class="comment"> * filename to transform. They should either return NULL (if there is an error</span>
00107 <span class="comment"> * condition) or a newly allocated string containing the transformed form that</span>
00108 <span class="comment"> * the caller will need to free with OPENSSL_free() when done. */</span>
<a name="l00109"></a><a class="code" href="dso_8h.html#a51">00109</a> <span class="keyword">typedef</span> <span class="keywordtype">char</span>* (*DSO_NAME_CONVERTER_FUNC)(DSO *, <span class="keyword">const</span> <span class="keywordtype">char</span> *);
00110 
<a name="l00111"></a><a class="code" href="structdso__meth__st.html">00111</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdso__meth__st.html">dso_meth_st</a>
00112     {
<a name="l00113"></a><a class="code" href="structdso__meth__st.html#m0">00113</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdso__meth__st.html#m0">name</a>;
00114     <span class="comment">/* Loads a shared library, NB: new DSO_METHODs must ensure that a</span>
00115 <span class="comment">     * successful load populates the loaded_filename field, and likewise a</span>
00116 <span class="comment">     * successful unload OPENSSL_frees and NULLs it out. */</span>
00117     <a class="code" href="cryptlib_8c.html#a9">int</a> (*<a class="code" href="structdso__meth__st.html#m1">dso_load</a>)(DSO *dso);
00118     <span class="comment">/* Unloads a shared library */</span>
00119     <a class="code" href="cryptlib_8c.html#a9">int</a> (*<a class="code" href="structdso__meth__st.html#m2">dso_unload</a>)(DSO *dso);
00120     <span class="comment">/* Binds a variable */</span>
00121     <span class="keywordtype">void</span> *(*dso_bind_var)(DSO *dso, <span class="keyword">const</span> <span class="keywordtype">char</span> *symname);
00122     <span class="comment">/* Binds a function - assumes a return type of DSO_FUNC_TYPE.</span>
00123 <span class="comment">     * This should be cast to the real function prototype by the</span>
00124 <span class="comment">     * caller. Platforms that don't have compatible representations</span>
00125 <span class="comment">     * for different prototypes (this is possible within ANSI C)</span>
00126 <span class="comment">     * are highly unlikely to have shared libraries at all, let</span>
00127 <span class="comment">     * alone a DSO_METHOD implemented for them. */</span>
00128     <a class="code" href="dso_8h.html#a49">DSO_FUNC_TYPE</a> (*<a class="code" href="structdso__meth__st.html#m4">dso_bind_func</a>)(DSO *dso, <span class="keyword">const</span> <span class="keywordtype">char</span> *symname);
00129 
00130 <span class="comment">/* I don't think this would actually be used in any circumstances. */</span>
00131 <span class="preprocessor">#if 0</span>
00132 <span class="preprocessor"></span>    <span class="comment">/* Unbinds a variable */</span>
00133     <a class="code" href="cryptlib_8c.html#a9">int</a> (*dso_unbind_var)(DSO *dso, <span class="keywordtype">char</span> *symname, <span class="keywordtype">void</span> *symptr);
00134     <span class="comment">/* Unbinds a function */</span>
00135     <a class="code" href="cryptlib_8c.html#a9">int</a> (*dso_unbind_func)(DSO *dso, <span class="keywordtype">char</span> *symname, <a class="code" href="dso_8h.html#a49">DSO_FUNC_TYPE</a> symptr);
00136 <span class="preprocessor">#endif</span>
00137 <span class="preprocessor"></span>    <span class="comment">/* The generic (yuck) "ctrl()" function. NB: Negative return</span>
00138 <span class="comment">     * values (rather than zero) indicate errors. */</span>
00139     <a class="code" href="cryptlib_8c.html#a10">long</a> (*<a class="code" href="structdso__meth__st.html#m5">dso_ctrl</a>)(DSO *dso, <span class="keywordtype">int</span> cmd, <span class="keywordtype">long</span> larg, <span class="keywordtype">void</span> *parg);
00140     <span class="comment">/* The default DSO_METHOD-specific function for converting filenames to</span>
00141 <span class="comment">     * a canonical native form. */</span>
<a name="l00142"></a><a class="code" href="structdso__meth__st.html#m6">00142</a>     <a class="code" href="dso_8h.html#a51">DSO_NAME_CONVERTER_FUNC</a> <a class="code" href="structdso__meth__st.html#m6">dso_name_converter</a>;
00143 
00144     <span class="comment">/* [De]Initialisation handlers. */</span>
00145     <a class="code" href="cryptlib_8c.html#a9">int</a> (*<a class="code" href="structdso__meth__st.html#m7">init</a>)(DSO *dso);
00146     <a class="code" href="cryptlib_8c.html#a9">int</a> (*<a class="code" href="structdso__meth__st.html#m8">finish</a>)(DSO *dso);
00147     } <a class="code" href="structdso__meth__st.html">DSO_METHOD</a>;
00148 
00149 <span class="comment">/**********************************************************************/</span>
00150 <span class="comment">/* The low-level handle type used to refer to a loaded shared library */</span>
00151 
<a name="l00152"></a><a class="code" href="structdso__st.html">00152</a> <span class="keyword">struct </span><a class="code" href="structdso__st.html">dso_st</a>
00153     {
<a name="l00154"></a><a class="code" href="structdso__st.html#m0">00154</a>     <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *<a class="code" href="structdso__st.html#m0">meth</a>;
00155     <span class="comment">/* Standard dlopen uses a (void *). Win32 uses a HANDLE. VMS</span>
00156 <span class="comment">     * doesn't use anything but will need to cache the filename</span>
00157 <span class="comment">     * for use in the dso_bind handler. All in all, let each</span>
00158 <span class="comment">     * method control its own destiny. "Handles" and such go in</span>
00159 <span class="comment">     * a STACK. */</span>
<a name="l00160"></a><a class="code" href="structdso__st.html#m1">00160</a>     <a class="code" href="structstack__st.html">STACK</a> *<a class="code" href="structdso__st.html#m1">meth_data</a>;
<a name="l00161"></a><a class="code" href="structdso__st.html#m2">00161</a>     <span class="keywordtype">int</span> <a class="code" href="structdso__st.html#m2">references</a>;
<a name="l00162"></a><a class="code" href="structdso__st.html#m3">00162</a>     <span class="keywordtype">int</span> <a class="code" href="structdso__st.html#m3">flags</a>;
00163     <span class="comment">/* For use by applications etc ... use this for your bits'n'pieces,</span>
00164 <span class="comment">     * don't touch meth_data! */</span>
<a name="l00165"></a><a class="code" href="structdso__st.html#m4">00165</a>     <a class="code" href="structcrypto__ex__data__st.html">CRYPTO_EX_DATA</a> <a class="code" href="structdso__st.html#m4">ex_data</a>;
00166     <span class="comment">/* If this callback function pointer is set to non-NULL, then it will</span>
00167 <span class="comment">     * be used on DSO_load() in place of meth-&gt;dso_name_converter. NB: This</span>
00168 <span class="comment">     * should normally set using DSO_set_name_converter(). */</span>
<a name="l00169"></a><a class="code" href="structdso__st.html#m5">00169</a>     <a class="code" href="dso_8h.html#a51">DSO_NAME_CONVERTER_FUNC</a> <a class="code" href="structdso__st.html#m5">name_converter</a>;
00170     <span class="comment">/* This is populated with (a copy of) the platform-independant</span>
00171 <span class="comment">     * filename used for this DSO. */</span>
<a name="l00172"></a><a class="code" href="structdso__st.html#m6">00172</a>     <span class="keywordtype">char</span> *<a class="code" href="structdso__st.html#m6">filename</a>;
00173     <span class="comment">/* This is populated with (a copy of) the translated filename by which</span>
00174 <span class="comment">     * the DSO was actually loaded. It is NULL iff the DSO is not currently</span>
00175 <span class="comment">     * loaded. NB: This is here because the filename translation process</span>
00176 <span class="comment">     * may involve a callback being invoked more than once not only to</span>
00177 <span class="comment">     * convert to a platform-specific form, but also to try different</span>
00178 <span class="comment">     * filenames in the process of trying to perform a load. As such, this</span>
00179 <span class="comment">     * variable can be used to indicate (a) whether this DSO structure</span>
00180 <span class="comment">     * corresponds to a loaded library or not, and (b) the filename with</span>
00181 <span class="comment">     * which it was actually loaded. */</span>
<a name="l00182"></a><a class="code" href="structdso__st.html#m7">00182</a>     <span class="keywordtype">char</span> *<a class="code" href="structdso__st.html#m7">loaded_filename</a>;
00183     };
00184 
00185 
00186 DSO *   <a class="code" href="dso_8h.html#a53">DSO_new</a>(<span class="keywordtype">void</span>);
00187 DSO *   <a class="code" href="dso_8h.html#a54">DSO_new_method</a>(<a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *method);
00188 <span class="keywordtype">int</span> <a class="code" href="dso_8h.html#a55">DSO_free</a>(DSO *dso);
00189 <span class="keywordtype">int</span> <a class="code" href="dso_8h.html#a56">DSO_flags</a>(DSO *dso);
00190 <span class="keywordtype">int</span> <a class="code" href="dso_8h.html#a57">DSO_up_ref</a>(DSO *dso);
00191 <span class="keywordtype">long</span>    <a class="code" href="dso_8h.html#a58">DSO_ctrl</a>(DSO *dso, <span class="keywordtype">int</span> cmd, <span class="keywordtype">long</span> larg, <span class="keywordtype">void</span> *parg);
00192 
00193 <span class="comment">/* This function sets the DSO's name_converter callback. If it is non-NULL,</span>
00194 <span class="comment"> * then it will be used instead of the associated DSO_METHOD's function. If</span>
00195 <span class="comment"> * oldcb is non-NULL then it is set to the function pointer value being</span>
00196 <span class="comment"> * replaced. Return value is non-zero for success. */</span>
00197 <span class="keywordtype">int</span> <a class="code" href="dso_8h.html#a59">DSO_set_name_converter</a>(DSO *dso, <a class="code" href="dso_8h.html#a51">DSO_NAME_CONVERTER_FUNC</a> cb,
00198                 <a class="code" href="dso_8h.html#a51">DSO_NAME_CONVERTER_FUNC</a> *oldcb);
00199 <span class="comment">/* These functions can be used to get/set the platform-independant filename</span>
00200 <span class="comment"> * used for a DSO. NB: set will fail if the DSO is already loaded. */</span>
00201 <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="dso_8h.html#a60">DSO_get_filename</a>(DSO *dso);
00202 <span class="keywordtype">int</span> <a class="code" href="dso_8h.html#a61">DSO_set_filename</a>(DSO *dso, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
00203 <span class="comment">/* This function will invoke the DSO's name_converter callback to translate a</span>
00204 <span class="comment"> * filename, or if the callback isn't set it will instead use the DSO_METHOD's</span>
00205 <span class="comment"> * converter. If "filename" is NULL, the "filename" in the DSO itself will be</span>
00206 <span class="comment"> * used. If the DSO_FLAG_NO_NAME_TRANSLATION flag is set, then the filename is</span>
00207 <span class="comment"> * simply duplicated. NB: This function is usually called from within a</span>
00208 <span class="comment"> * DSO_METHOD during the processing of a DSO_load() call, and is exposed so that</span>
00209 <span class="comment"> * caller-created DSO_METHODs can do the same thing. A non-NULL return value</span>
00210 <span class="comment"> * will need to be OPENSSL_free()'d. */</span>
00211 <span class="keywordtype">char</span>    *<a class="code" href="dso_8h.html#a62">DSO_convert_filename</a>(DSO *dso, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
00212 <span class="comment">/* If the DSO is currently loaded, this returns the filename that it was loaded</span>
00213 <span class="comment"> * under, otherwise it returns NULL. So it is also useful as a test as to</span>
00214 <span class="comment"> * whether the DSO is currently loaded. NB: This will not necessarily return</span>
00215 <span class="comment"> * the same value as DSO_convert_filename(dso, dso-&gt;filename), because the</span>
00216 <span class="comment"> * DSO_METHOD's load function may have tried a variety of filenames (with</span>
00217 <span class="comment"> * and/or without the aid of the converters) before settling on the one it</span>
00218 <span class="comment"> * actually loaded. */</span>
00219 <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="dso_8h.html#a63">DSO_get_loaded_filename</a>(DSO *dso);
00220 
00221 <span class="keywordtype">void</span>    <a class="code" href="dso_8h.html#a64">DSO_set_default_method</a>(<a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *meth);
00222 <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *<a class="code" href="dso_8h.html#a65">DSO_get_default_method</a>(<span class="keywordtype">void</span>);
00223 <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *<a class="code" href="dso_8h.html#a66">DSO_get_method</a>(DSO *dso);
00224 <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *<a class="code" href="dso_8h.html#a67">DSO_set_method</a>(DSO *dso, <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *meth);
00225 
00226 <span class="comment">/* The all-singing all-dancing load function, you normally pass NULL</span>
00227 <span class="comment"> * for the first and third parameters. Use DSO_up and DSO_free for</span>
00228 <span class="comment"> * subsequent reference count handling. Any flags passed in will be set</span>
00229 <span class="comment"> * in the constructed DSO after its init() function but before the</span>
00230 <span class="comment"> * load operation. If 'dso' is non-NULL, 'flags' is ignored. */</span>
00231 DSO *<a class="code" href="dso_8h.html#a68">DSO_load</a>(DSO *dso, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *meth, <span class="keywordtype">int</span> flags);
00232 
00233 <span class="comment">/* This function binds to a variable inside a shared library. */</span>
00234 <span class="keywordtype">void</span> *<a class="code" href="dso_8h.html#a69">DSO_bind_var</a>(DSO *dso, <span class="keyword">const</span> <span class="keywordtype">char</span> *symname);
00235 
00236 <span class="comment">/* This function binds to a function inside a shared library. */</span>
00237 <a class="code" href="dso_8h.html#a49">DSO_FUNC_TYPE</a> <a class="code" href="dso_8h.html#a70">DSO_bind_func</a>(DSO *dso, <span class="keyword">const</span> <span class="keywordtype">char</span> *symname);
00238 
00239 <span class="comment">/* This method is the default, but will beg, borrow, or steal whatever</span>
00240 <span class="comment"> * method should be the default on any particular platform (including</span>
00241 <span class="comment"> * DSO_METH_null() if necessary). */</span>
00242 <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *<a class="code" href="dso_8h.html#a71">DSO_METHOD_openssl</a>(<span class="keywordtype">void</span>);
00243 
00244 <span class="comment">/* This method is defined for all platforms - if a platform has no</span>
00245 <span class="comment"> * DSO support then this will be the only method! */</span>
00246 <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *<a class="code" href="dso_8h.html#a72">DSO_METHOD_null</a>(<span class="keywordtype">void</span>);
00247 
00248 <span class="comment">/* If DSO_DLFCN is defined, the standard dlfcn.h-style functions</span>
00249 <span class="comment"> * (dlopen, dlclose, dlsym, etc) will be used and incorporated into</span>
00250 <span class="comment"> * this method. If not, this method will return NULL. */</span>
00251 <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *<a class="code" href="dso_8h.html#a73">DSO_METHOD_dlfcn</a>(<span class="keywordtype">void</span>);
00252 
00253 <span class="comment">/* If DSO_DL is defined, the standard dl.h-style functions (shl_load, </span>
00254 <span class="comment"> * shl_unload, shl_findsym, etc) will be used and incorporated into</span>
00255 <span class="comment"> * this method. If not, this method will return NULL. */</span>
00256 <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *<a class="code" href="dso_8h.html#a74">DSO_METHOD_dl</a>(<span class="keywordtype">void</span>);
00257 
00258 <span class="comment">/* If WIN32 is defined, use DLLs. If not, return NULL. */</span>
00259 <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *<a class="code" href="dso_8h.html#a75">DSO_METHOD_win32</a>(<span class="keywordtype">void</span>);
00260 
00261 <span class="comment">/* If VMS is defined, use shared images. If not, return NULL. */</span>
00262 <a class="code" href="structdso__meth__st.html">DSO_METHOD</a> *<a class="code" href="dso_8h.html#a76">DSO_METHOD_vms</a>(<span class="keywordtype">void</span>);
00263 
00264 <span class="comment">/* BEGIN ERROR CODES */</span>
00265 <span class="comment">/* The following lines are auto generated by the script mkerr.pl. Any changes</span>
00266 <span class="comment"> * made after this point may be overwritten when the script is next run.</span>
00267 <span class="comment"> */</span>
00268 <span class="keywordtype">void</span> <a class="code" href="err__all_8c.html#a2">ERR_load_DSO_strings</a>(<span class="keywordtype">void</span>);
00269 
00270 <span class="comment">/* Error codes for the DSO functions. */</span>
00271 
00272 <span class="comment">/* Function codes. */</span>
<a name="l00273"></a><a class="code" href="dso_8h.html#a6">00273</a> <span class="preprocessor">#define DSO_F_DLFCN_BIND_FUNC                100</span>
<a name="l00274"></a><a class="code" href="dso_8h.html#a7">00274</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DLFCN_BIND_VAR                 101</span>
<a name="l00275"></a><a class="code" href="dso_8h.html#a8">00275</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DLFCN_LOAD                 102</span>
<a name="l00276"></a><a class="code" href="dso_8h.html#a9">00276</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DLFCN_NAME_CONVERTER           123</span>
<a name="l00277"></a><a class="code" href="dso_8h.html#a10">00277</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DLFCN_UNLOAD               103</span>
<a name="l00278"></a><a class="code" href="dso_8h.html#a11">00278</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DL_BIND_FUNC               104</span>
<a name="l00279"></a><a class="code" href="dso_8h.html#a12">00279</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DL_BIND_VAR                105</span>
<a name="l00280"></a><a class="code" href="dso_8h.html#a13">00280</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DL_LOAD                    106</span>
<a name="l00281"></a><a class="code" href="dso_8h.html#a14">00281</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DL_NAME_CONVERTER              124</span>
<a name="l00282"></a><a class="code" href="dso_8h.html#a15">00282</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DL_UNLOAD                  107</span>
<a name="l00283"></a><a class="code" href="dso_8h.html#a16">00283</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_BIND_FUNC              108</span>
<a name="l00284"></a><a class="code" href="dso_8h.html#a17">00284</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_BIND_VAR               109</span>
<a name="l00285"></a><a class="code" href="dso_8h.html#a18">00285</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_CONVERT_FILENAME           126</span>
<a name="l00286"></a><a class="code" href="dso_8h.html#a19">00286</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_CTRL                   110</span>
<a name="l00287"></a><a class="code" href="dso_8h.html#a20">00287</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_FREE                   111</span>
<a name="l00288"></a><a class="code" href="dso_8h.html#a21">00288</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_GET_FILENAME               127</span>
<a name="l00289"></a><a class="code" href="dso_8h.html#a22">00289</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_GET_LOADED_FILENAME            128</span>
<a name="l00290"></a><a class="code" href="dso_8h.html#a23">00290</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_LOAD                   112</span>
<a name="l00291"></a><a class="code" href="dso_8h.html#a24">00291</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_NEW_METHOD                 113</span>
<a name="l00292"></a><a class="code" href="dso_8h.html#a25">00292</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_SET_FILENAME               129</span>
<a name="l00293"></a><a class="code" href="dso_8h.html#a26">00293</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_SET_NAME_CONVERTER             122</span>
<a name="l00294"></a><a class="code" href="dso_8h.html#a27">00294</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_DSO_UP_REF                 114</span>
<a name="l00295"></a><a class="code" href="dso_8h.html#a28">00295</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_VMS_BIND_VAR               115</span>
<a name="l00296"></a><a class="code" href="dso_8h.html#a29">00296</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_VMS_LOAD                   116</span>
<a name="l00297"></a><a class="code" href="dso_8h.html#a30">00297</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_VMS_UNLOAD                 117</span>
<a name="l00298"></a><a class="code" href="dso_8h.html#a31">00298</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_WIN32_BIND_FUNC                118</span>
<a name="l00299"></a><a class="code" href="dso_8h.html#a32">00299</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_WIN32_BIND_VAR                 119</span>
<a name="l00300"></a><a class="code" href="dso_8h.html#a33">00300</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_WIN32_LOAD                 120</span>
<a name="l00301"></a><a class="code" href="dso_8h.html#a34">00301</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_WIN32_NAME_CONVERTER           125</span>
<a name="l00302"></a><a class="code" href="dso_8h.html#a35">00302</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_F_WIN32_UNLOAD               121</span>
00303 <span class="preprocessor"></span>
00304 <span class="comment">/* Reason codes. */</span>
<a name="l00305"></a><a class="code" href="dso_8h.html#a36">00305</a> <span class="preprocessor">#define DSO_R_CTRL_FAILED                100</span>
<a name="l00306"></a><a class="code" href="dso_8h.html#a37">00306</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_DSO_ALREADY_LOADED             110</span>
<a name="l00307"></a><a class="code" href="dso_8h.html#a38">00307</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_FILENAME_TOO_BIG               101</span>
<a name="l00308"></a><a class="code" href="dso_8h.html#a39">00308</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_FINISH_FAILED              102</span>
<a name="l00309"></a><a class="code" href="dso_8h.html#a40">00309</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_LOAD_FAILED                103</span>
<a name="l00310"></a><a class="code" href="dso_8h.html#a41">00310</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_NAME_TRANSLATION_FAILED            109</span>
<a name="l00311"></a><a class="code" href="dso_8h.html#a42">00311</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_NO_FILENAME                111</span>
<a name="l00312"></a><a class="code" href="dso_8h.html#a43">00312</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_NULL_HANDLE                104</span>
<a name="l00313"></a><a class="code" href="dso_8h.html#a44">00313</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_SET_FILENAME_FAILED            112</span>
<a name="l00314"></a><a class="code" href="dso_8h.html#a45">00314</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_STACK_ERROR                105</span>
<a name="l00315"></a><a class="code" href="dso_8h.html#a46">00315</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_SYM_FAILURE                106</span>
<a name="l00316"></a><a class="code" href="dso_8h.html#a47">00316</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_UNLOAD_FAILED              107</span>
<a name="l00317"></a><a class="code" href="dso_8h.html#a48">00317</a> <span class="preprocessor"></span><span class="preprocessor">#define DSO_R_UNSUPPORTED                108</span>
00318 <span class="preprocessor"></span>
00319 <span class="preprocessor">#ifdef  __cplusplus</span>
00320 <span class="preprocessor"></span>}
00321 <span class="preprocessor">#endif</span>
00322 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Mon Aug 14 19:59:36 2006 for Octeon Core Crypto API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
